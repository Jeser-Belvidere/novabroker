import{cY as M,cZ as I,g as C,c_ as x,bz as E,c$ as N,h as O,r as w,w as A,d0 as L,d1 as V,S as J,b0 as R,aF as z}from"./Dez1MvHl.js";const F=I?window:void 0;function S(t){var r;const a=E(t);return(r=a?.$el)!==null&&r!==void 0?r:a}function y(...t){const r=(o,i,u,f)=>(o.addEventListener(i,u,f),()=>o.removeEventListener(i,u,f)),a=C(()=>{const o=x(E(t[0])).filter(i=>i!=null);return o.every(i=>typeof i!="string")?o:void 0});return N(()=>{var o,i;return[(o=(i=a.value)===null||i===void 0?void 0:i.map(u=>S(u)))!==null&&o!==void 0?o:[F].filter(u=>u!=null),x(E(a.value?t[1]:t[0])),x(J(a.value?t[2]:t[1])),E(a.value?t[3]:t[2])]},([o,i,u,f],m,l)=>{if(!o?.length||!i?.length||!u?.length)return;const d=V(f)?{...f}:f,v=o.flatMap(p=>i.flatMap(c=>u.map(g=>r(p,c,g,d))));l(()=>{v.forEach(p=>p())})},{flush:"post"})}function j(t,r,a={}){const{window:o=F,ignore:i=[],capture:u=!0,detectIframe:f=!1,controls:m=!1}=a;if(!o)return m?{stop:M,cancel:M,trigger:M}:M;let l=!0;const d=e=>E(i).some(s=>{if(typeof s=="string")return Array.from(o.document.querySelectorAll(s)).some(n=>n===e.target||e.composedPath().includes(n));{const n=S(s);return n&&(e.target===n||e.composedPath().includes(n))}});function v(e){const s=E(e);return s&&s.$.subTree.shapeFlag===16}function p(e,s){const n=E(e),h=n.$.subTree&&n.$.subTree.children;return h==null||!Array.isArray(h)?!1:h.some($=>$.el===s.target||s.composedPath().includes($.el))}const c=e=>{const s=S(t);if(e.target!=null&&!(!(s instanceof Element)&&v(t)&&p(t,e))&&!(!s||s===e.target||e.composedPath().includes(s))){if("detail"in e&&e.detail===0&&(l=!d(e)),!l){l=!0;return}r(e)}};let g=!1;const b=[y(o,"click",e=>{g||(g=!0,setTimeout(()=>{g=!1},0),c(e))},{passive:!0,capture:u}),y(o,"pointerdown",e=>{const s=S(t);l=!d(e)&&!!(s&&!e.composedPath().includes(s))},{passive:!0}),f&&y(o,"blur",e=>{setTimeout(()=>{var s;const n=S(t);((s=o.document.activeElement)===null||s===void 0?void 0:s.tagName)==="IFRAME"&&!n?.contains(o.document.activeElement)&&r(e)},0)},{passive:!0})].filter(Boolean),P=()=>b.forEach(e=>e());return m?{stop:P,cancel:()=>{l=!1},trigger:e=>{l=!0,c(e),l=!1}}:P}function B(t){return JSON.parse(JSON.stringify(t))}const T=new Map;function q(t){const r=z();function a(m){var l;const d=T.get(t)||new Set;d.add(m),T.set(t,d);const v=()=>i(m);return r==null||(l=r.cleanups)===null||l===void 0||l.push(v),v}function o(m){function l(...d){i(l),m(...d)}return a(l)}function i(m){const l=T.get(t);l&&(l.delete(m),l.size||u())}function u(){T.delete(t)}function f(m,l){var d;(d=T.get(t))===null||d===void 0||d.forEach(v=>v(m,l))}return{on:a,once:o,off:i,emit:f,reset:u}}function D(t,r,a,o={}){var i,u;const{clone:f=!1,passive:m=!1,eventName:l,deep:d=!1,defaultValue:v,shouldEmit:p}=o,c=O(),g=a||c?.emit||(c==null||(i=c.$emit)===null||i===void 0?void 0:i.bind(c))||(c==null||(u=c.proxy)===null||u===void 0||(u=u.$emit)===null||u===void 0?void 0:u.bind(c?.proxy));let b=l;b=b||`update:${r.toString()}`;const P=n=>f?typeof f=="function"?f(n):B(n):n,e=()=>L(t[r])?P(t[r]):v,s=n=>{p?p(n)&&g(b,n):g(b,n)};if(m){const n=w(e());let h=!1;return A(()=>t[r],$=>{h||(h=!0,n.value=P($),R(()=>h=!1))}),A(n,$=>{!h&&($!==t[r]||d)&&s($)},{deep:d}),n}else return C({get(){return e()},set(n){s(n)}})}export{q as a,j as o,D as u};
